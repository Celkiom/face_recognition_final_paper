{% extends 'layout/_base.html' %}

	{% block body %}

		<div class="principalNav2">
			<label class="titlePage">Student Info</label>
			<div class="registerInfo">
			  <!-- Button to Open the Modal -->
				<button type="button" class="registerBtn" data-toggle="modal" data-target="#myModal">Add student info </button>
				<form class="row justify-content-end m-0" ACTION="/filterStudent" method="POST">
					<div class="recherche">
						<input type="text" name="recherche" class="form-control search-input" placeholder="Search someone by name or id">
					</div>
					<div class="col-md-1 m-0 ">
					<button type="submit" class="btn btn-info">Search</button>
					</div>
				</form>
			  <!-- The Modal -->
			<!--   <div class="modal" id="myModal">
			    <div class="modal-dialog">
			      <div class="modal-content">
			        <!-- Modal Header 
			        <div class="modal-header">
			          <h4 class="modal-title">Register student</h4>
			          <button type="button" class="close" data-dismiss="modal">&times;</button>
			        </div>
			        <!-- Modal body 
			        <div class="modal-body registering">
			          <form class="text-center modalInfo" action="/studentInfo" method="POST" enctype="multipart/form-data">
						<div class="form-group">
							<input type="text" name="id" placeholder="Matricule" class="form-control input" required>
						</div>
						<div class="form-wrapper form-group">
							<input type="text" name="noms" placeholder="Fullname" class="form-control" required> <i class="zmdi zmdi-account"></i> 
						</div>

						<div class="form-group">
							<select name="genre" class="form-control" >
								<option value="" disabled selected>Gender</option>
								<option value="male">Masculin</option>
								<option value="female">Feminin</option>
								<option value="other">Autre</option>
							</select>
						</div>
						<div class="form-group">
							<select name="faculte" id="" class="form-control" >
								<option value="" disabled selected>Faculty</option>
								<option value="fasa">Fasa</option>
								<option value="fasic">Fasic</option>
								<option value="economie">Economie</option>
								<option value="male">Law</option>
								<option value="theologie">Theology</option>
								<option value="other">Other</option>
							</select>
						</div>
						<div class="form-group">
							<select name="departement" id="" class="form-control" >
								<option value="" disabled selected>Department</option>
								<option value="info">GI</option>
								<option value="mecano">GEM</option>
								<option value="female">EG</option>
								<option value="agri">Agribusness</option>
								<option value="droitPub">Droit Public</option>
								<option value="DroitPriv">Droit privé</option>
								<option value="leadership">Leadership</option>
								<option value="other">Other</option>
							</select>
						</div>
						<div class="form-group">
							<select name="promotion" id="" class="form-control" >
								<option value="" disabled selected>Promotion</option>
								<option value="premiere">L0</option>
								<option value="deuxieme">L1</option>
								<option value="troisieme">L2</option>
								<option value="quatrieme">L3</option>
							</select>
						</div>
						<div class="form-wrapper form-group">
							<input name="annee" type="text" placeholder="Academic year" class="form-control" required> 
						</div>

					  <div class="selectPhoto">
					  	<div enctype="multipart/form-data" class="parcourirform">
					  		<img src="" id="file" class="centerCard studentCam" height="150px">
					  		<input type="file" name="file" onchange="displayImage.call(this)">
						</div>
					   </div>
			        </div>
			        <!-- Modal footer 
			        <div class="modal-footer">
			          <button name="submit" type="submit" value="Save" class="btn btn-success" data-dismiss="modal">Save Info</button>
			        </div>
					  </form>
			      </div>
			    </div>
			  </div>
			</div> -->
			 <form class="text-center modalInfo" action="/registerInfo" method="POST" enctype="multipart/form-data">
				<div class="form-group">
					<input type="text" name="id" placeholder="Matricule" class="form-control input" required>
				</div>
				<div class="form-wrapper form-group">
					<input type="text" name="noms" placeholder="Fullname" class="form-control" required> <i class="zmdi zmdi-account"></i> 
				</div>

				<div class="form-group">
					<select name="genre" class="form-control" >
						<option value="" disabled selected>Gender</option>
						<option value="male">Masculin</option>
						<option value="female">Feminin</option>
						<option value="other">Autre</option>
					</select>
				</div>
				<div class="form-group">
					<select name="faculte" class="form-control" >
						<option value="" disabled selected>Faculty</option>
						<option value="fasa">Fasa</option>
						<option value="fasic">Fasic</option>
						<option value="economie">Economie</option>
						<option value="male">Law</option>
						<option value="theologie">Theology</option>
						<option value="other">Other</option>
					</select>
				</div>
				<div class="form-group">
					<select name="departement"  class="form-control" >
						<option value="" disabled selected>Department</option>
						<option value="info">GI</option>
						<option value="mecano">GEM</option>
						<option value="female">EG</option>
						<option value="agri">Agribusness</option>
						<option value="droitPub">Droit Public</option>
						<option value="DroitPriv">Droit privé</option>
						<option value="leadership">Leadership</option>
						<option value="other">Other</option>
					</select>
				</div>
				<div class="form-group">
					<select name="promotion"  class="form-control" >
						<option value="" disabled selected>Promotion</option>
						<option value="premiere">L0</option>
						<option value="deuxieme">L1</option>
						<option value="troisieme">L2</option>
						<option value="quatrieme">L3</option>
					</select>
				</div>
				<div class="form-wrapper form-group">
					<input name="annee" type="text" placeholder="Academic year" class="form-control" required> 
				</div>

			  <!-- <div class="selectPhoto"> -->
			  	<!-- <div enctype="multipart/form-data" class="parcourirform">
			  		<img src="" id="file" class="centerCard studentCam" height="150px">
			  		<input type="file" name="file" onchange="displayImage.call(this)">
				</div> -->
				<img src="" id="file" class="centerCard studentCam" height="150px">
			  	<input type="file" name="file" onchange="displayImage.call(this)">
				<button name="submit" type="submit" value="SaveInfo" class="btn btn-success" data-dismiss="modal">Save Info</button>
			   <!-- </div> -->
			</form>
<!-- the end of modal part and begining of table management -->
<!-- ======================================================= -->
			<div class="card tablemodify">
				<table class="table table-striped table-hover mb-3">
				  <thead>
						<tr>
						  <th>ID</th>
						  <th>Fullname</th>
						  <th>Faculty</th>
						  <th>Departement</th>
						  <th>Promotion</th>
						  <th>Financial status</th>
						  <th>Workprogram</th>
							<th></th>
							<th></th>
						</tr>
				  </thead>
				  <tbody>
					{% for row in student %}
						<tr>
						  <td>{{row[0]}}</td>
						  <td>{{row[1]}}</td>
						  <td>{{row[4]}}</td>
						  <td>{{row[5]}}</td>
						  <td>{{row[6]}}</td>
						  <td><b>{{row[8]}}$</b></td>
						  <td><b>{{row[9]}}%</b></td>
							<form action="{{url_for('deleteStudent', id=row[0])}}" method="POST">
								<td><button onclick="return confirm('Voulez-vous vraiment supprimé?')" type="submit" class="btn btn-sm btn-warning">!</button></td>
								<td><button onclick="return confirm('Voulez-vous vraiment supprimé?')" type="submit" class="btn btn-sm btn-danger">X</button></td>
							</form>
						</tr>
					{% endfor %}
				  </tbody>
				</table>
					
			</div>
		</div>

	{% endblock %}